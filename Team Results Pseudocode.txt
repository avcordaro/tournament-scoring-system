Depending on checkbox selection, repeat with BOWTYPE = [Compound, Recurve, Barebow, Longbow] {
	
  If Separate gender is selected, repeat with GENDER = [Men, Women] {

    1. Get distinct club names from the database where there are at least 3 scoring records for the given TOURNAMENTID, ROUND, BOWTYPE, (and possibly GENDER if separate teams is selected)
    2. For each club in the resultset, get the top 3 scores for that club, and add their archerID's to a new Team objects ID's arraylist. Also, add their total score, hits, golds, and Xs to the object's respective fields.
    3. Repeat step 2, adding each Team object into an arraylist for all distinctions in the resultset of step 1.
    4. Sort the arraylist using custom comparator to order the Teams first to last based on their total scores.
    5. Starting from the beginning, for each Team in the now sorted arraylist, get a new resultset for all of the ArcherID's inside the Team object, ordered by their scores, and create new TeamMember objects. Add their FirstName, LastName, Club (from Team), Score, Hits, Golds, and Xs to the objects respective fields.
    6. Add each TeamMember object to a new arraylist that will act as the JRDataSource (remember TeamMember needs to be Java Beans)

  }

}

--- Two .jrxml reports needed, for Mixed and Separate genders ---

SELECT Club,
FROM Archer,
       Score,
       Category
WHERE Archer.ArcherID = Score.ArcherID AND 
       Archer.Category = Category.Name AND 
       TournamentID = [TOURNAMENTID] AND 
       Round = [ROUND] AND 
       BowType = [BOWTYPE] AND
       Gender = [GENDER]
GROUP BY Club
HAVING COUNT(*) >= 3


SELECT Club,
FROM Archer,
       Score,
       Category
WHERE Archer.ArcherID = Score.ArcherID AND
       TournamentID = [TOURNAMENTID] AND 
       Round = [ROUND] AND 
       BowType = [BOWTYPE]
GROUP BY Club
HAVING COUNT(*) >= 3